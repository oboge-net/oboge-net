kQ();nN();kK();oT();function nN(){var dW=document.getElementById('video'),fW=document.getElementById('audio'),uH='active',hW='https://';if(dW){var bW=null,vT=false,qT=false,iW=null,wT=null,jW=document.getElementsByClassName('playlist')[0];if(jW){var img,aW,zT;for(var i=0;i<jW.childNodes.length;i++){iW=jW.childNodes[i].getAttribute('data-url');if(i==0)wT=hW+iW;aW=iW.split("/");if(aW[0]!="films.oboge.net"){zT="/"+aW[1]+"/"+aW[2];}else{zT="/films/"+aW[1];}zT=zT.split(".")[0];img=document.createElement('img');img.src='http://oboge.net/video/images/s'+zT+'.jpg';jW.childNodes[i].insertBefore(img,jW.childNodes[i].firstChild);}}else{iW=dW.getAttribute('data-url');if(iW)wT=hW+iW;}if(wT){uT();}if(jW){tT(jW,dW);}}if(fW){var eW=fW.firstChild.lastChild,gW=fW.lastChild;fN(gW.firstChild,gW,eW);tT(gW,eW);if(dW){zH(eW,function(){if(dW.readyState==4)dW.pause();},'play');zH(dW,function(){if(eW.readyState==4)eW.pause();},'play');}}function uT(){if(typeof Hls==="undefined"){setTimeout(uT,100);}else{vT=Hls.isSupported();if(vT){bW=new Hls();bW.on(Hls.Events.MEDIA_ATTACHED,rT);bW.on(Hls.Events.MEDIA_DETACHED,sT);cW();}else{sT();}}}function rT(){bW.loadSource(wT);dW.load();}function sT(){dW.src=wT;dW.load();}function cW(){if(vT&&wT.indexOf(".m3u8",wT.length-5)!==-1){if(qT){rT();}else{qT=true;bW.attachMedia(dW);}}else{if(qT){qT=false;bW.detachMedia(dW);}else{sT();}}}function tT(ul,tQ){zH(tQ,function(){zK(ul,tQ);},'ended');zH(ul,function(hT){var li=mT(hT);if(li&&li.className!=uH){fN(li,ul,tQ);}});zH(tQ,xT,'loadedmetadata');function xT(){zH(tQ,function(){tQ.play();},'loadedmetadata');iE(tQ,xT,'loadedmetadata');}}function mT(hT){var e=lE(hT);if(e&&e.parentNode.nodeName=='LI'){return e.parentNode;}else if(e&&e.nodeName=='LI'){return e;}return null;}function fN(li,ul,tQ){var url=li.getAttribute('data-url');if(url){if(url.charAt(0)!='/'){url=hW+url;}else{url='http://'+location.hostname+url;}if(tQ.id=='video'){wT=url;var raf=getR()||function(func){setTimeout(func,67);},height=dW.offsetHeight,wK=null;if(scrollBy){raf(nH);}}if(li.className!=uH){yT(li,ul);}if(tQ.id=='video'){cW();}else{tQ.src=url;tQ.load();}}function nH(hN){var time=hN||new Date().getTime();if(!wK){wK=time;}if(time-wK<2000){var diff=dW.offsetHeight-height;if(diff){scrollBy(0,diff);}else{raf(nH);}}}}function yT(li,ul){eN(ul.childNodes)[0].className='';li.className=uH;uB(cQ,ul,Math.max(0,(ul.firstChild.offsetHeight+1)*(eN(ul.childNodes)[1]-2)),500);function cQ(pos,e){e.scrollTop=pos;}}function zK(ul,tQ){var li=eN(ul.childNodes)[0],eT;if(li){eT=li.nextSibling;if(!eT){eT=ul.firstChild;}fN(eT,ul,tQ);}}function eN(e){for(var i=0;i<e.length;i++){if(e[i].className==uH){return[e[i],i];}}return[null,-1];}function uB(func,gQ,yN,uK){var raf=getR()||function(func){setTimeout(func,67);},jK,t=null,xN=true;if(gQ===window){jK=window.pageYOffset||document.documentElement.scrollTop;}else{jK=gQ.scrollTop;}var gT=(yN-jK)/uK;gT=gT.toFixed(2);if(jK>yN){xN=false;}raf(kN);function kN(hN){if(!hN)hN=new Date().getTime();if(!t)t=jK-Math.round(gT*hN);var fT=t+Math.round(gT*hN);if((xN&&fT<yN)||(!xN&&fT>yN)){func(fT,gQ);raf(kN);}else{func(yN,gQ);}}}function lE(e){if(e){if(e.target){return e.target;}if(e.srcElement){return e.srcElement;}}return null;}}function kQ(){if(document.body.offsetWidth<=640){var pQ=document.getElementById('header'),menu=document.createElement('div');pQ.insertBefore(menu,pQ.firstChild);zH(menu,iK);}function iK(){var mQ=document.getElementById('menu');for(var i=0;i<3;i++){mQ.appendChild(mQ.removeChild(mQ.firstChild));}}}function kK(){}function oT(){if(document.body.offsetWidth>640&&(!window.getComputedStyle||window.getComputedStyle(document.getElementById('header')).backgroundRepeat=='repeat')){e=document.createElement('link');e.rel='stylesheet';e.type='text/css';e.href='/style/oboge-ie8-1802.css';document.body.appendChild(e);}}function zH(e,func,type){if(e){if(!type){type='click';}if(e.addEventListener){e.addEventListener(type,func,false);}else if(e.attachEvent){e.attachEvent('on'+type,func);}else if(e['on'+type]){e['on'+type]=func;}}}function iE(e,func,type){if(e){if(e.removeEventListener){e.removeEventListener(type,func,false);}else if(e.detachEvent){e.detachEvent('on'+type,func);}else if(e['on'+type]){e['on'+type]=null;}}}